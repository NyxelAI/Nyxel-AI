<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nyxel AI - Simple Chatbot</title>
<style>
  body { font-family: Arial, sans-serif; background: #121212; color: #eee; }
  #chatbox { width: 600px; max-width: 90vw; margin: 2rem auto; background: #222; padding: 1rem; border-radius: 8px; }
  #messages { height: 400px; overflow-y: auto; border: 1px solid #555; padding: 10px; background: #111; border-radius: 6px; }
  .message { margin-bottom: 1rem; }
  .user { color: #6cf; }
  .bot { color: #9f6; }
  #inputArea { margin-top: 1rem; display: flex; }
  #inputArea input { flex-grow: 1; padding: 10px; border-radius: 6px 0 0 6px; border: none; font-size: 1rem; }
  #inputArea button { padding: 10px 20px; background: #3a3; border: none; border-radius: 0 6px 6px 0; color: white; font-weight: bold; cursor: pointer; }
  #inputArea button:hover { background: #4c4; }
</style>
</head>
<body>

<div id="chatbox">
  <div id="messages"></div>
  <div id="inputArea">
    <input id="userInput" placeholder="Say something..." autocomplete="off" />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<script>
  const messages = document.getElementById('messages');
  const input = document.getElementById('userInput');

  // Basic math evaluator for simple expressions (numbers + +-*/)
  function evalMath(expr) {
    try {
      // Remove any characters except digits, + - * / . and spaces
      if (!/^[0-9+\-*/. ()]+$/.test(expr)) return null;
      // eslint-disable-next-line no-eval
      let result = eval(expr);
      if (typeof result === 'number' && !isNaN(result)) {
        return result;
      }
    } catch {
      return null;
    }
    return null;
  }

  // Generate a paragraph of text on a few topics
  function generateParagraph(topic) {
    const paragraphs = {
      'time': `Time is a continuous progression of existence, and it governs everything in our universe. People often say 'time flies,' because moments can feel fleeting or long depending on our experiences.`,
      'joke': `Here's a joke for you: Why did the scarecrow win an award? Because he was outstanding in his field!`,
      'meme': `Memes are funny and relatable pieces of content shared across the internet. They capture culture and humor in a simple image or phrase.`,
      'name': `I am Nyxel AI, your friendly chat assistant built to help you and chat about many topics.`,
    };
    return paragraphs[topic] || `Sorry, I don't have much to say about ${topic} yet.`;
  }

  function botResponse(text) {
    text = text.toLowerCase();

    // Simple greetings
    if (/^(hi|hello|hey|yo|sup)\b/.test(text)) {
      return "Hello! How can I assist you today?";
    }

    // Jokes
    if (text.includes('joke') || text.includes('lol') || text.includes('haha')) {
      return generateParagraph('joke');
    }

    // Time & Date
    if (text.includes('time')) {
      const now = new Date();
      return `The current time is ${now.toLocaleTimeString()}.`;
    }
    if (text.includes('date')) {
      const now = new Date();
      return `Today's date is ${now.toLocaleDateString()}.`;
    }

    // Meme
    if (text.includes('meme') || text.includes('funny')) {
      return generateParagraph('meme');
    }

    // Name / identity
    if (text.includes('name') || text.includes('who are you')) {
      return generateParagraph('name');
    }

    // Basic math
    // Try to extract math expression and evaluate
    const mathResult = evalMath(text);
    if (mathResult !== null) {
      return `The answer is ${mathResult}.`;
    }

    // Default fallback paragraph
    return `I'm not sure how to respond to that. Can you try asking something else or say "joke", "time", or "hello"?`;
  }

  function appendMessage(sender, message) {
    const div = document.createElement('div');
    div.classList.add('message');
    div.classList.add(sender);
    div.textContent = message;
    messages.appendChild(div);
    messages.scrollTop = messages.scrollHeight;
  }

  function sendMessage() {
    const text = input.value.trim();
    if (!text) return;
    appendMessage('user', text);
    input.value = '';
    setTimeout(() => {
      const reply = botResponse(text);
      appendMessage('bot', reply);
    }, 400);
  }

  // Allow Enter key to send message
  input.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      sendMessage();
    }
  });

  // Initial greeting
  appendMessage('bot', "Hi! I'm Nyxel AI. Ask me anything or say 'joke', 'time', 'hello'...");
</script>

</body>
</html>
