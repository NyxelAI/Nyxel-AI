<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nyxel AI Assistant</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 10px; background: #f5f7fa; }
  #chat { border: 1px solid #ddd; background: #fff; height: 350px; padding: 15px; overflow-y: auto; }
  #userInput { width: 75%; padding: 10px; font-size: 1rem; }
  #sendBtn { padding: 10px 15px; font-size: 1rem; cursor: pointer; }
  .message { margin: 8px 0; }
  .user { color: #1a73e8; font-weight: bold; }
  .bot { color: #2e7d32; font-weight: bold; }
</style>
</head>
<body>

<h1>Nyxel AI Assistant</h1>
<div id="chat"></div>

<input type="text" id="userInput" placeholder="Ask me anything..." autocomplete="off" />
<button id="sendBtn">Send</button>

<script>
const chat = document.getElementById('chat');
const userInput = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');

// Keep track of simple context
let conversationContext = {
  greeted: false,
  lastTopic: null,
};

function appendMessage(text, sender) {
  const messageDiv = document.createElement('div');
  messageDiv.classList.add('message', sender);
  messageDiv.textContent = text;
  chat.appendChild(messageDiv);
  chat.scrollTop = chat.scrollHeight;
}

function getBotResponse(input) {
  input = input.toLowerCase();

  if (!conversationContext.greeted) {
    conversationContext.greeted = true;
    return "Hi there! I'm Nyxel AI â€” your smart assistant. Ask me anything or say 'help' to get started.";
  }

  if (input.includes("help")) {
    return "I can chat with you, tell jokes, give advice, or just listen. Try saying 'tell me a joke' or ask 'what's the time?'";
  }

  if (input.includes("hello") || input.includes("hi") || input.includes("hey")) {
    return "Hello again! What would you like to talk about?";
  }

  if (input.includes("time")) {
    const now = new Date();
    return `It's currently ${now.toLocaleTimeString()}.`;
  }

  if (input.includes("joke")) {
    const jokes = [
      "Why did the computer show up at work late? It had a hard drive!",
      "Why do programmers prefer dark mode? Because light attracts bugs!",
      "Why did the AI go to art school? To learn how to draw conclusions!"
    ];
    return jokes[Math.floor(Math.random() * jokes.length)];
  }

  if (input.includes("advice")) {
    const adviceList = [
      "Take breaks often to stay sharp!",
      "Don't be afraid to ask questions.",
      "Practice makes perfect, keep coding!"
    ];
    return adviceList[Math.floor(Math.random() * adviceList.length)];
  }

  if (input.includes("bye") || input.includes("exit") || input.includes("quit")) {
    return "Goodbye! Hope to chat with you again soon.";
  }

  // Basic fallback
  return "I'm not sure how to respond to that yet. Try asking for 'help'!";
}

function userSend() {
  const input = userInput.value.trim();
  if (!input) return;

  appendMessage("You: " + input, "user");
  const response = getBotResponse(input);
  appendMessage("Nyxel AI: " + response, "bot");

  if (input.toLowerCase().includes("bye") || input.toLowerCase().includes("exit") || input.toLowerCase().includes("quit")) {
    userInput.disabled = true;
    sendBtn.disabled = true;
  }

  userInput.value = "";
}

sendBtn.addEventListener("click", userSend);
userInput.addEventListener("keydown", (e) => {
  if (e.key === "Enter") userSend();
});

// Greet user at start
appendMessage("Nyxel AI: Hello! Type something to start the conversation.", "bot");
</script>

</body>
</html>
